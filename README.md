# fastapi-final
## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫ –∑–∞–ø—É—Å–∫—É
### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python3.6+, —Ç.–µ. –≤–µ—Ä—Å–∏—è —è–∑—ã–∫–∞ Python –æ—Ç 3.6 –∏ –≤—ã—à–µ
- pip, –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python

### –ó–∞–ø—É—Å–∫

–ü–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –Ω–∞—á–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É API –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞. –í —ç—Ç–æ–º
–æ–∫—Ä—É–∂–µ–Ω–∏–∏ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∑–∞–≤–∏—Å–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã.

> üïπ –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –Ω–∞ —Å–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

–û–∫—Ä—É–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø–∞–ø–∫–µ `.venv`. –í –Ω–µ–º –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –Ω—É–∂–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–∏—Ç–æ–Ω–∞
–∏ –≤—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã.

```bash
python3 -m venv .venv
```

#### 2. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

–¢–µ–ø–µ—Ä—å –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, —Ç–æ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ —Ç–µ–∫—É—â–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

```bash
source .venv/bin/activate
```

–≠—Ç–æ —É–¥–æ–±–Ω–æ - –¥–µ—Ä–∂–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø–∞–ø–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞. –¢–æ–≥–¥–∞ –Ω–µ –±—É–¥—É—Ç —Å–º–µ—à–∏–≤–∞—Ç—å—Å—è
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–º –∏–∑–±–µ–≥–∞—Ç—å dependency hell, –∫–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –∫–∞–∫
–Ω—É–∂–Ω—ã—Ö, —Ç–∞–∫ –∏ –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤. –¢–∞–∫–∂–µ, —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤–µ—Ä—Å–∏–π –ø–∞–∫–µ—Ç–æ–≤.

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

#### 4. –ó–∞–ø—É—Å—Ç–∏–º API

```bash
uvicorn main:app --reload
```

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

`/sum1n`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π GET –∑–∞–ø—Ä–æ—Å—ã.

–ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–∏—Å–ª–æ n —á–µ—Ä–µ–∑ URL. –í–µ—Ä–Ω—É—Ç—å —Å—É–º–º—É –æ—Ç 1 –¥–æ n.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞.

```bash
$ curl http://localhost:8000/sum1n/10
{"result": 55}
```

---

`/fibo`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π GET –∑–∞–ø—Ä–æ—Å—ã.

–ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–∏—Å–ª–æ n —á–µ—Ä–µ–∑ URL Query. –í–µ—Ä–Ω—É—Ç—å n-–Ω–æ–µ —á–∏—Å–ª–æ –∏–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –§–∏–±–æ–Ω–∞—á—á–∏.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞.

```bash
$ curl http://localhost:8000/fibo?n=5
{"result": 3}
```

---

`/reverse`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π POST –∑–∞–ø—Ä–æ—Å—ã.

–ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ `string` —á–µ—Ä–µ–∑ Header. –í–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—É—é —Å—Ç—Ä–æ–∫—É –∑–∞–¥–æ–º –Ω–∞–ø–µ—Ä–µ–¥.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞.

```bash
$ curl -X POST -H "string: hello" http://localhost:8000/reverse
{"result": "olleh"}
```

---

`/list`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π PUT –∑–∞–ø—Ä–æ—Å—ã.

–ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ `element` —á–µ—Ä–µ–∑ JSON —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É `element` –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞.

```bash
$ curl -X PUT -d '{"element":"Apple"}' -H 'Content-Type: application/json' http://localhost:8000/list
$ curl -X PUT -d '{"element":"Microsoft"}' -H 'Content-Type: application/json' http://localhost:8000/list
$ curl http://localhost:8000/list
{"result": ["Apple", "Microsoft"]}
```

---

`/list`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π GET –∑–∞–ø—Ä–æ—Å—ã.

–í–µ—Ä–Ω—É—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞.

```bash
$ curl http://localhost:8000/list
{"result": []}
$ curl -X PUT -d '{"element":"Apple"}' -H 'Content-Type: application/json' http://localhost:8000/list
$ curl -X PUT -d '{"element":"Microsoft"}' -H 'Content-Type: application/json' http://localhost:8000/list
$ curl http://localhost:8000/list
{"result": ["Apple", "Microsoft"]}
```

---

`/calculator`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π POST –∑–∞–ø—Ä–æ—Å—ã.

–ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ `expr` —á–µ—Ä–µ–∑ JSON —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞. –°—Ç—Ä–æ–∫–∞ `expr` —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å. –§–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏ —Å–ª–µ–¥—É—é—â–∏–π: `num1,operator,num2`.

- `num1` –∏ `num2` - —ç—Ç–æ —á–∏—Å–ª–∞
- `operator` - —ç—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: +,-,/,\*

–í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

–ï—Å–ª–∏ `expr` –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞, –≤–µ—Ä–Ω—É—Ç—å `{"error": "invalid"}` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `400 Bad Request`.

–ü—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –Ω–∞ –Ω–æ–ª—å –≤–µ—Ä–Ω—É—Ç—å `{"error": "zerodiv"}` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `403`.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞.

```bash
$ curl -X POST -d '{"expr": "1,+,1"}' -H 'Content-Type: application/json' http://localhost:8000/calculator
{"result": 2}
```

